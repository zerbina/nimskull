<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>Nimskull coding style</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">Nimskull coding style</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="style_guide.html">Style guide</a></li>
      <li><a href="contributing.html">Contribution guide</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li><a href="theindex.html">Index</a></li>
      <li><a href="compiler/theindex.html">Compiler docs</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
    <div class="search-groupby">
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>

  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="introduction_toc" href="#introduction">Introduction</a></li>
<li><a class="reference" id="style-guidelines_toc" href="#style-guidelines">Style Guidelines</a></li>
<ul class="simple"><li><a class="reference" id="style-guidelines-spacing-and-whitespace-conventions_toc" href="#style-guidelines-spacing-and-whitespace-conventions">Spacing and Whitespace Conventions</a></li>
<li><a class="reference" id="style-guidelines-control-flow-constructs_toc" href="#style-guidelines-control-flow-constructs">Control flow constructs</a></li>
<li><a class="reference" id="style-guidelines-naming-conventions_toc" href="#style-guidelines-naming-conventions">Naming Conventions</a></li>
<li><a class="reference" id="style-guidelines-coding-conventions_toc" href="#style-guidelines-coding-conventions">Coding Conventions</a></li>
<li><a class="reference" id="style-guidelines-conventions-for-multiminusline-statements-and-expressions_toc" href="#style-guidelines-conventions-for-multiminusline-statements-and-expressions">Conventions for multi-line statements and expressions</a></li>
<li><a class="reference" id="style-guidelines-miscellaneous_toc" href="#style-guidelines-miscellaneous">Miscellaneous</a></li>
</ul><li><a class="reference" id="best-practices_toc" href="#best-practices">Best practices</a></li>
<ul class="simple"><li><a class="reference" id="best-practices-avoid-primitive-types-for-an-api_toc" href="#best-practices-avoid-primitive-types-for-an-api">Avoid primitive types for an API</a></li>
<li><a class="reference" id="best-practices-define-needs-prefix_toc" href="#best-practices-define-needs-prefix">Define needs prefix</a></li>
<li><a class="reference" id="best-practices-no-implicit-bool_toc" href="#best-practices-no-implicit-bool">No implicit bool</a></li>
<li><a class="reference" id="best-practices-desing-for-method-call-syntax_toc" href="#best-practices-desing-for-method-call-syntax">Desing for method call syntax</a></li>
<li><a class="reference" id="best-practices-avoid-quit_toc" href="#best-practices-avoid-quit">Avoid quit</a></li>
<li><a class="reference" id="best-practices-use-doassert-in-tests_toc" href="#best-practices-use-doassert-in-tests">Use <tt class="docutils literal"><span class="pre">doAssert</span></tt> in tests</a></li>
<li><a class="reference" id="best-practices-use-assert-in-runnable-examples_toc" href="#best-practices-use-assert-in-runnable-examples">Use assert in runnable examples</a></li>
<li><a class="reference" id="best-practices-delegate-printing_toc" href="#best-practices-delegate-printing">Delegate printing</a></li>
<li><a class="reference" id="best-practices-use-option_toc" href="#best-practices-use-option">Use <tt class="docutils literal"><span class="pre">Option</span></tt></a></li>
</ul>
</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/3e81e76ca1fe88ff83d618cc46348ca7085b115b/doc/style_guide.rst#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/doc/style_guide.rst#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">
<h1><a class="toc-backref" id="introduction" href="#introduction">Introduction</a></h1><p>Although Nim supports a variety of code and formatting styles, it is nevertheless beneficial that certain community efforts, such as the standard library, should follow a consistent set of style guidelines when suitable. This enhancement proposal aims to list a series of guidelines that the standard library should follow.</p>
<p>Note that there can be exceptions to these rules. Nim being as flexible as it is, there will be parts of this style guide that don't make sense in certain contexts. Furthermore, just as <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0008/">Python's style guide</a> changes over time, this style guide will too.</p>
<p>These rules will only be enforced for contributions to the  nimskull codebase and official projects, such as the  nimskull compiler, the standard library, and the various official tools.</p>

<h1><a class="toc-backref" id="style-guidelines" href="#style-guidelines">Style Guidelines</a></h1>
<h2><a class="toc-backref" id="style-guidelines-spacing-and-whitespace-conventions" href="#style-guidelines-spacing-and-whitespace-conventions">Spacing and Whitespace Conventions</a></h2><ul class="simple"><li>Lines should be no longer than 80 characters. Limiting the amount of information present on each line makes for more readable code - the reader has smaller chunks to process.</li>
<li>Two spaces should be used for indentation of blocks; tabstops are not allowed (the compiler enforces this). Using spaces means that the appearance of code is more consistent across editors. Unlike spaces, tabstop width varies across editors, and not all editors provide means of changing this width.</li>
<li>Although use of whitespace for stylistic reasons other than the ones endorsed by this guide are allowed, careful thought should be put into such practices. Not all editors support automatic alignment of code sections, and re-aligning long sections of code by hand can quickly become tedious.<pre class="listing"><span class="Comment"># This is bad, as the next time someone comes</span>
<span class="Comment"># to edit this code block, they</span>
<span class="Comment"># must re-align all the assignments again:</span>
<span class="Keyword">type</span>
  <span class="Identifier">WordBool</span><span class="Operator">*</span>    <span class="Operator">=</span> <span class="Identifier">int16</span>
  <span class="Identifier">CalType</span><span class="Operator">*</span>     <span class="Operator">=</span> <span class="Identifier">int</span>
  <span class="Operator">...</span> <span class="Comment"># 5 lines later</span>
  <span class="Identifier">CalId</span><span class="Operator">*</span>       <span class="Operator">=</span> <span class="Identifier">int</span>
  <span class="Identifier">LongLong</span><span class="Operator">*</span>    <span class="Operator">=</span> <span class="Identifier">int64</span>
  <span class="Identifier">LongLongPtr</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">ptr</span> <span class="Identifier">LongLong</span></pre></li>
</ul>

<h2><a class="toc-backref" id="style-guidelines-control-flow-constructs" href="#style-guidelines-control-flow-constructs">Control flow constructs</a></h2><p>General rule for spacing out control flow constructs and similar elements is to not try and needlessly cram all constructs into a single chunk of code. Adding more spacing in the code (to a reasonable degree of course) increases readability. There is no need to pack as much actions as possible into as little space as possible. Utility of code like this is questionable at best.</p>
<p>Code like this is noticeably harder to read than one that is spaced out more.</p>
<pre class="listing"><span class="Keyword">if</span> <span class="Identifier">i</span> <span class="Operator">==</span> <span class="Identifier">arg</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">:</span> <span class="Keyword">discard</span>
<span class="Keyword">elif</span> <span class="Identifier">i</span> <span class="Operator">&lt;</span> <span class="Identifier">arg</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Keyword">and</span> <span class="Punctuation">(</span><span class="Identifier">arg</span><span class="Punctuation">[</span><span class="Identifier">i</span><span class="Punctuation">]</span> <span class="Keyword">in</span> <span class="Punctuation">{</span><span class="CharLit">':'</span><span class="Punctuation">,</span> <span class="CharLit">'='</span><span class="Punctuation">}</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">inc</span><span class="Punctuation">(</span><span class="Identifier">i</span><span class="Punctuation">)</span>
<span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Identifier">invalidCmdLineOption</span><span class="Punctuation">(</span><span class="Identifier">conf</span><span class="Punctuation">,</span> <span class="Identifier">pass</span><span class="Punctuation">,</span> <span class="Identifier">orig</span><span class="Punctuation">,</span> <span class="Identifier">info</span><span class="Punctuation">)</span></pre><pre class="listing"><span class="Keyword">if</span> <span class="Identifier">i</span> <span class="Operator">==</span> <span class="Identifier">arg</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">:</span>
  <span class="Keyword">discard</span>

<span class="Keyword">elif</span> <span class="Identifier">i</span> <span class="Operator">&lt;</span> <span class="Identifier">arg</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Keyword">and</span> <span class="Punctuation">(</span><span class="Identifier">arg</span><span class="Punctuation">[</span><span class="Identifier">i</span><span class="Punctuation">]</span> <span class="Keyword">in</span> <span class="Punctuation">{</span><span class="CharLit">':'</span><span class="Punctuation">,</span> <span class="CharLit">'='</span><span class="Punctuation">}</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">inc</span><span class="Punctuation">(</span><span class="Identifier">i</span><span class="Punctuation">)</span>

<span class="Keyword">else</span><span class="Punctuation">:</span>
  <span class="Identifier">invalidCmdLineOption</span><span class="Punctuation">(</span><span class="Identifier">conf</span><span class="Punctuation">,</span> <span class="Identifier">pass</span><span class="Punctuation">,</span> <span class="Identifier">orig</span><span class="Punctuation">,</span> <span class="Identifier">info</span><span class="Punctuation">)</span></pre><ul class="simple"><li>Avoid using single-line <tt class="docutils literal"><span class="pre"><span class="Keyword">if</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Keyword">elif</span></span></tt> unless it is a small inline expression</li>
</ul>

<h2><a class="toc-backref" id="style-guidelines-naming-conventions" href="#style-guidelines-naming-conventions">Naming Conventions</a></h2><ul class="simple"><li>Type identifiers should be in PascalCase. All other identifiers should be in camelCase with the exception of constants which <strong>may</strong> use PascalCase but are not required to.<pre class="listing"><span class="Comment"># Constants can start with either a lower case or upper case letter.</span>
<span class="Keyword">const</span> <span class="Identifier">aConstant</span> <span class="Operator">=</span> <span class="DecNumber">42</span>
<span class="Keyword">const</span> <span class="Identifier">FooBar</span> <span class="Operator">=</span> <span class="FloatNumber">4.2</span>

<span class="Keyword">var</span> <span class="Identifier">aVariable</span> <span class="Operator">=</span> <span class="StringLit">&quot;Meep&quot;</span> <span class="Comment"># Variables must start with a lowercase letter.</span>

<span class="Comment"># Types must start with an uppercase letter.</span>
<span class="Keyword">type</span>
  <span class="Identifier">FooBar</span> <span class="Operator">=</span> <span class="Keyword">object</span></pre><p>For constants coming from a C/C++ wrapper, <tt class="docutils literal"><span class="pre"><span class="Identifier">ALL_UPPERCASE</span></span></tt> are allowed, but ugly. (Why shout <tt class="docutils literal"><span class="pre"><span class="Identifier">CONSTANT</span></span></tt>? Constants do no harm, variables do!)</p>
</li>
<li>When naming types that come in value, pointer, and reference varieties, use a regular name for the variety that is to be used the most, and add a &quot;Obj&quot;, &quot;Ref&quot;, or &quot;Ptr&quot; suffix for the other varieties. If there is no single variety that will be used the most, add the suffixes to the pointer variants only. The same applies to C/C++ wrappers.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">Handle</span> <span class="Operator">=</span> <span class="Keyword">object</span> <span class="Comment"># Will be used most often</span>
    <span class="Identifier">fd</span><span class="Punctuation">:</span> <span class="Identifier">int64</span>
  <span class="Identifier">HandleRef</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Identifier">Handle</span> <span class="Comment"># Will be used less often</span></pre></li>
<li>Exception and Error types should have the &quot;Error&quot; or &quot;Defect&quot; suffix.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">ValueError</span> <span class="Operator">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">CatchableError</span>
  <span class="Identifier">AssertionDefect</span> <span class="Operator">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">Defect</span>
  <span class="Identifier">Foo</span> <span class="Operator">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">Exception</span> <span class="Comment"># bad style, try to inherit CatchableError or Defect</span></pre></li>
<li>Unless marked with the <tt class="docutils literal"><span class="pre"><span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">pure</span><span class="Operator">.</span><span class="Punctuation">}</span></span></tt> pragma, members of enums should have an identifying prefix, such as an abbreviation of the enum's name.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">PathComponent</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
    <span class="Identifier">pcDir</span>
    <span class="Identifier">pcLinkToDir</span>
    <span class="Identifier">pcFile</span>
    <span class="Identifier">pcLinkToFile</span></pre></li>
<li>Non-pure enum values should use camelCase whereas pure enum values should use PascalCase.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">PathComponent</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">pure</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
    <span class="Identifier">Dir</span>
    <span class="Identifier">LinkToDir</span>
    <span class="Identifier">File</span>
    <span class="Identifier">LinkToFile</span></pre></li>
<li>In the age of HTTP, HTML, FTP, TCP, IP, UTF, WWW it is foolish to pretend these are somewhat special words requiring all uppercase. Instead treat them as what they are: Real words. So it's <tt class="docutils literal"><span class="pre"><span class="Identifier">parseUrl</span></span></tt> rather than <tt class="docutils literal"><span class="pre"><span class="Identifier">parseURL</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">checkHttpHeader</span></span></tt> instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">checkHTTPHeader</span></span></tt> etc.</li>
<li>Operations like <tt class="docutils literal"><span class="pre"><span class="Identifier">mitems</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">mpairs</span></span></tt> (or the now deprecated <tt class="docutils literal"><span class="pre"><span class="Identifier">mget</span></span></tt>) that allow a <em>mutating view</em> into some data structure should start with an <tt class="docutils literal"><span class="pre"><span class="Identifier">m</span></span></tt>.</li>
<li>When both in-place mutation and 'returns transformed copy' are available the latter is a past participle of the former:<ul class="simple"><li>reverse and reversed in algorithm</li>
<li>sort and sorted</li>
<li>rotate and rotated</li>
</ul>
</li>
<li>When the 'returns transformed copy' version already exists like <tt class="docutils literal"><span class="pre"><span class="Identifier">strutils</span><span class="Operator">.</span><span class="Identifier">replace</span></span></tt> an in-place version should get an <tt class="docutils literal"><span class="pre">-In</span></tt> suffix (<tt class="docutils literal"><span class="pre"><span class="Identifier">replaceIn</span></span></tt> for this example).</li>
<li>Use <tt class="docutils literal"><span class="pre"><span class="Identifier">subjectVerb</span></span></tt>, not <tt class="docutils literal"><span class="pre"><span class="Identifier">verbSubject</span></span></tt>, e.g.: <tt class="docutils literal"><span class="pre"><span class="Identifier">fileExists</span></span></tt>, not <tt class="docutils literal"><span class="pre"><span class="Identifier">existsFile</span></span></tt>.</li>
</ul>
<p>The stdlib API is designed to be <strong>easy to use</strong> and consistent. Ease of use is measured by the number of calls to achieve a concrete high level action. The ultimate goal is that the programmer can <em>guess</em> a name.</p>
<p>The library uses a simple naming scheme that makes use of common abbreviations to keep the names short but meaningful.</p>
<table border="1" class="docutils"><tr><th>English word</th><th>To use</th><th>Notes</th></tr>
<tr><td>initialize</td><td>initFoo</td><td>initializes a value type <tt class="docutils literal"><span class="pre"><span class="Identifier">Foo</span></span></tt></td></tr>
<tr><td>new</td><td>newFoo</td><td>initializes a reference type <tt class="docutils literal"><span class="pre"><span class="Identifier">Foo</span></span></tt> via <tt class="docutils literal"><span class="pre"><span class="Identifier">new</span></span></tt> or a value type <tt class="docutils literal"><span class="pre"><span class="Identifier">Foo</span></span></tt> with reference semantics.</td></tr>
<tr><td>this or self</td><td>self</td><td>for method like procs, e.g.: <tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span> <span class="Identifier">fun</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Foo</span><span class="Punctuation">,</span> <span class="Identifier">a</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span></span></tt> rationale: <tt class="docutils literal"><span class="pre"><span class="Identifier">self</span></span></tt> is more unique in English than <tt class="docutils literal"><span class="pre"><span class="Identifier">this</span></span></tt>, and <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span></span></tt> would not be DRY.</td></tr>
<tr><td>find</td><td>find</td><td>should return the position where something was found; for a bool result use <tt class="docutils literal"><span class="pre"><span class="Identifier">contains</span></span></tt></td></tr>
<tr><td>contains</td><td>contains</td><td>often short for <tt class="docutils literal"><span class="pre"><span class="Identifier">find</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">&gt;=</span> <span class="DecNumber">0</span></span></tt></td></tr>
<tr><td>append</td><td>add</td><td>use <tt class="docutils literal"><span class="pre"><span class="Identifier">add</span></span></tt> instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">append</span></span></tt></td></tr>
<tr><td>compare</td><td>cmp</td><td>should return an int with the <tt class="docutils literal"><span class="pre"><span class="Operator">&lt;</span> <span class="DecNumber">0</span></span></tt> <tt class="docutils literal"><span class="pre"><span class="Operator">==</span> <span class="DecNumber">0</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Operator">&gt;</span> <span class="DecNumber">0</span></span></tt> semantics; for a bool result use <tt class="docutils literal"><span class="pre"><span class="Identifier">sameXYZ</span></span></tt></td></tr>
<tr><td>put</td><td>put, <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Operator">=</span></span></tt></td><td>consider overloading <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Operator">=</span></span></tt> for put</td></tr>
<tr><td>get</td><td>get, <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt></td><td>consider overloading <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> for get; consider to not use <tt class="docutils literal"><span class="pre"><span class="Identifier">get</span></span></tt> as a prefix: <tt class="docutils literal"><span class="pre"><span class="Identifier">len</span></span></tt> instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">getLen</span></span></tt></td></tr>
<tr><td>length</td><td>len</td><td>also used for <em>number of elements</em></td></tr>
<tr><td>size</td><td>size, len</td><td>size should refer to a byte size</td></tr>
<tr><td>capacity</td><td>cap</td><td></td></tr>
<tr><td>memory</td><td>mem</td><td>implies a low-level operation</td></tr>
<tr><td>items</td><td>items</td><td>default iterator over a collection</td></tr>
<tr><td>pairs</td><td>pairs</td><td>iterator over (key, value) pairs</td></tr>
<tr><td>delete</td><td>delete, del</td><td>del is supposed to be faster than delete, because it does not keep the order; delete keeps the order</td></tr>
<tr><td>remove</td><td>delete, del</td><td>inconsistent right now</td></tr>
<tr><td>include</td><td>incl</td><td></td></tr>
<tr><td>exclude</td><td>excl</td><td></td></tr>
<tr><td>command</td><td>cmd</td><td></td></tr>
<tr><td>execute</td><td>exec</td><td></td></tr>
<tr><td>environment</td><td>env</td><td></td></tr>
<tr><td>variable</td><td>var</td><td></td></tr>
<tr><td>value</td><td>value, val </td><td>val is preferred, inconsistent right now</td></tr>
<tr><td>executable</td><td>exe</td><td></td></tr>
<tr><td>directory</td><td>dir</td><td></td></tr>
<tr><td>path</td><td>path</td><td>path is the string &quot;/usr/bin&quot; (for example), dir is the content of &quot;/usr/bin&quot;; inconsistent right now</td></tr>
<tr><td>extension</td><td>ext</td><td></td></tr>
<tr><td>separator</td><td>sep</td><td></td></tr>
<tr><td>column</td><td>col, column </td><td>col is preferred, inconsistent right now</td></tr>
<tr><td>application</td><td>app</td><td></td></tr>
<tr><td>configuration</td><td>cfg</td><td></td></tr>
<tr><td>message</td><td>msg</td><td></td></tr>
<tr><td>argument</td><td>arg</td><td></td></tr>
<tr><td>object</td><td>obj</td><td></td></tr>
<tr><td>parameter</td><td>param</td><td></td></tr>
<tr><td>operator</td><td>opr</td><td></td></tr>
<tr><td>procedure</td><td>proc</td><td></td></tr>
<tr><td>function</td><td>func</td><td></td></tr>
<tr><td>coordinate</td><td>coord</td><td></td></tr>
<tr><td>rectangle</td><td>rect</td><td></td></tr>
<tr><td>point</td><td>point</td><td></td></tr>
<tr><td>symbol</td><td>sym</td><td></td></tr>
<tr><td>literal</td><td>lit</td><td></td></tr>
<tr><td>string</td><td>str</td><td></td></tr>
<tr><td>identifier</td><td>ident</td><td></td></tr>
<tr><td>indentation</td><td>indent</td><td></td></tr>
</table>
<h2><a class="toc-backref" id="style-guidelines-coding-conventions" href="#style-guidelines-coding-conventions">Coding Conventions</a></h2><ul class="simple"><li>The <tt class="docutils literal"><span class="pre"><span class="Keyword">return</span></span></tt> statement should ideally be used when its control-flow properties are required. Use a procedure's implicit <tt class="docutils literal"><span class="pre"><span class="Identifier">result</span></span></tt> variable whenever possible. This improves readability.<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">repeat</span><span class="Punctuation">(</span><span class="Identifier">text</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">,</span> <span class="Identifier">x</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Operator">=</span>
  <span class="Identifier">result</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span>
  
  <span class="Keyword">for</span> <span class="Identifier">i</span> <span class="Keyword">in</span> <span class="FloatNumber">0.</span><span class="Operator">.</span><span class="Identifier">x</span><span class="Punctuation">:</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">add</span><span class="Punctuation">(</span><span class="Operator">$</span><span class="Identifier">i</span><span class="Punctuation">)</span></pre></li>
<li>Ideally implementation should start with <tt class="docutils literal"><span class="pre"><span class="Keyword">func</span></span></tt>, since it does not allow side effects. If you have some sort of side effect use <tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span></span></tt>, and consider using the more powerful facilities of macros, templates, iterators, and converters only when necessary.</li>
<li>Use the <tt class="docutils literal"><span class="pre"><span class="Keyword">let</span></span></tt> statement (not the <tt class="docutils literal"><span class="pre"><span class="Keyword">var</span></span></tt> statement) when declaring variables that do not change within their scope. Using the <tt class="docutils literal"><span class="pre"><span class="Keyword">let</span></span></tt> statement ensures that variables remain immutable, and gives those who read the code a better idea of the code's purpose.</li>
</ul>

<h2><a class="toc-backref" id="style-guidelines-conventions-for-multiminusline-statements-and-expressions" href="#style-guidelines-conventions-for-multiminusline-statements-and-expressions">Conventions for multi-line statements and expressions</a></h2><ul class="simple"><li>Tuples which are longer than one line should indent their parameters to align with the parameters above it.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">LongTupleA</span> <span class="Operator">=</span> <span class="Keyword">tuple</span><span class="Punctuation">[</span><span class="Identifier">wordyTupleMemberOne</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">wordyTupleMemberTwo</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">,</span>
                     <span class="Identifier">wordyTupleMemberThree</span><span class="Punctuation">:</span> <span class="Identifier">float</span><span class="Punctuation">]</span></pre></li>
<li>Similarly, any procedure and procedure type declarations that are longer than one line should do the same thing.<pre class="listing"><span class="Keyword">type</span>
  <span class="Identifier">EventCallback</span> <span class="Operator">=</span> <span class="Keyword">proc</span> <span class="Punctuation">(</span><span class="Identifier">timeReceived</span><span class="Punctuation">:</span> <span class="Identifier">Time</span><span class="Punctuation">,</span> <span class="Identifier">errorCode</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">event</span><span class="Punctuation">:</span> <span class="Identifier">Event</span><span class="Punctuation">,</span>
                        <span class="Identifier">output</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">string</span><span class="Punctuation">)</span>

<span class="Keyword">proc</span> <span class="Identifier">lotsOfArguments</span><span class="Punctuation">(</span><span class="Identifier">argOne</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">,</span> <span class="Identifier">argTwo</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">argThree</span><span class="Punctuation">:</span> <span class="Identifier">float</span><span class="Punctuation">,</span>
                     <span class="Identifier">argFour</span><span class="Punctuation">:</span> <span class="Keyword">proc</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">argFive</span><span class="Punctuation">:</span> <span class="Identifier">bool</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">int</span>
                    <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">heyLookALongPragma</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span></pre></li>
<li>Multi-line procedure calls should continue on the same column as the opening parenthesis (like multi-line procedure declarations).<pre class="listing"><span class="Identifier">startProcess</span><span class="Punctuation">(</span><span class="Identifier">nimExecutable</span><span class="Punctuation">,</span> <span class="Identifier">currentDirectory</span><span class="Punctuation">,</span> <span class="Identifier">compilerArguments</span>
             <span class="Identifier">environment</span><span class="Punctuation">,</span> <span class="Identifier">processOptions</span><span class="Punctuation">)</span></pre></li>
</ul>

<h2><a class="toc-backref" id="style-guidelines-miscellaneous" href="#style-guidelines-miscellaneous">Miscellaneous</a></h2><ul class="simple"><li>Use <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span><span class="Operator">..</span><span class="Identifier">b</span></span></tt> instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span> <span class="Operator">..</span> <span class="Identifier">b</span></span></tt>, except when <tt class="docutils literal"><span class="pre"><span class="Identifier">b</span></span></tt> contains an operator, for example <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span> <span class="Operator">..</span> <span class="Operator">-</span><span class="DecNumber">3</span></span></tt>. Likewise with <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span><span class="Operator">..&lt;</span><span class="Identifier">b</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span><span class="Operator">..^</span><span class="Identifier">b</span></span></tt> and other operators starting with <tt class="docutils literal"><span class="pre"><span class="Operator">..</span></span></tt>.</li>
<li>Use <tt class="docutils literal"><span class="pre"><span class="Identifier">std</span></span></tt> prefix for standard library modules, namely use <tt class="docutils literal"><span class="pre"><span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">os</span></span></tt> for single module and use <tt class="docutils literal"><span class="pre"><span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">os</span><span class="Punctuation">,</span> <span class="Identifier">sysrand</span><span class="Punctuation">,</span> <span class="Identifier">posix</span><span class="Punctuation">]</span></span></tt> for multiple modules.</li>
<li><p>Prefer multiline triple quote literals to start with a newline; it's semantically identical (it's a feature of triple quote literals) but clearer because it aligns with the next line:</p>
<p>use this:</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">a</span> <span class="Operator">=</span> <span class="LongStringLit">&quot;&quot;&quot;
foo
bar
&quot;&quot;&quot;</span></pre><p>instead of:</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">a</span> <span class="Operator">=</span> <span class="LongStringLit">&quot;&quot;&quot;foo
bar
&quot;&quot;&quot;</span></pre></li>
<li>A getter API for a private field <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span></span></tt> should preferably be named <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span></span></tt>, not <tt class="docutils literal"><span class="pre"><span class="Identifier">getFoo</span></span></tt>.<dl class="docutils"><dt>A getter-like API should preferably be named <tt class="docutils literal"><span class="pre"><span class="Identifier">getFoo</span></span></tt>, not <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span></span></tt> if:</dt>
<dd><ul class="simple"><li>the API has side effects</li>
<li>or the cost is not <tt class="docutils literal"><span class="pre"><span class="Identifier">O</span><span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">)</span></span></tt></li>
</ul>
</dd>
</dl>
<p>For in between cases, there is no clear guideline.</p>
</li>
<li>Likewise with a setter API, replacing <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span></span></tt> with <tt class="docutils literal"><span class="pre"><span class="Identifier">foo</span><span class="Operator">=</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">getFoo</span></span></tt> with <tt class="docutils literal"><span class="pre"><span class="Identifier">setFoo</span></span></tt> in the above text.</li>
</ul>

<h1><a class="toc-backref" id="best-practices" href="#best-practices">Best practices</a></h1><p>Note: these are general guidelines, not hard rules; there are always exceptions. Code reviews can just point to a specific section here to save time and propagate best practices.</p>

<h2><a class="toc-backref" id="best-practices-avoid-primitive-types-for-an-api" href="#best-practices-avoid-primitive-types-for-an-api">Avoid primitive types for an API</a></h2><p>Prefer using semantically meaningful types for return values instead of booleans or integer codes. Prefer named types (enums, objects).</p>
<p>When returning tuples do name fields, especially if meaning of the each one is not obvious from the procedure name itself.</p>

<h2><a class="toc-backref" id="best-practices-define-needs-prefix" href="#best-practices-define-needs-prefix">Define needs prefix</a></h2><p>New <tt class="docutils literal"><span class="pre"><span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">foo</span><span class="Punctuation">)</span></span></tt> symbols need to be prefixed by the nimble package name, or by <tt class="docutils literal"><span class="pre"><span class="Identifier">nim</span></span></tt> for symbols in nim sources (e.g. compiler, standard library). This is to avoid name conflicts across packages.</p>
<pre class="listing"><span class="Comment"># if in nim sources</span>
<span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">allocStats</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Keyword">discard</span> <span class="Comment"># bad, can cause conflicts</span>
<span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">nimAllocStats</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Keyword">discard</span> <span class="Comment"># preferred</span>
<span class="Comment"># if in a package `cligen`:</span>
<span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">debug</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Keyword">discard</span> <span class="Comment"># bad, can cause conflicts</span>
<span class="Keyword">when</span> <span class="Identifier">defined</span><span class="Punctuation">(</span><span class="Identifier">cligenDebug</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Keyword">discard</span> <span class="Comment"># preferred</span></pre>
<h2><a class="toc-backref" id="best-practices-no-implicit-bool" href="#best-practices-no-implicit-bool">No implicit bool</a></h2><p>Take advantage of no implicit bool conversion</p>
<pre class="listing"><span class="Identifier">doAssert</span> <span class="Identifier">isValid</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">true</span>
<span class="Identifier">doAssert</span> <span class="Identifier">isValid</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># preferred</span></pre>
<h2><a class="toc-backref" id="best-practices-desing-for-method-call-syntax" href="#best-practices-desing-for-method-call-syntax">Desing for method call syntax</a></h2><p>Design with method call syntax chaining in mind</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Identifier">cond</span><span class="Punctuation">:</span> <span class="Identifier">bool</span><span class="Punctuation">,</span> <span class="Identifier">lines</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span><span class="Punctuation">)</span> <span class="Comment"># bad</span>
<span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Identifier">lines</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">cond</span><span class="Punctuation">:</span> <span class="Identifier">bool</span><span class="Punctuation">)</span> <span class="Comment"># preferred</span>
<span class="Comment"># can be called as: `getLines().foo(false)`</span></pre>
<h2><a class="toc-backref" id="best-practices-avoid-quit" href="#best-practices-avoid-quit">Avoid quit</a></h2><p>Use exceptions (including <tt class="docutils literal"><span class="pre"><span class="Identifier">assert</span></span></tt> / <tt class="docutils literal"><span class="pre"><span class="Identifier">doAssert</span></span></tt>) instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">quit</span></span></tt></p>
<pre class="listing"><span class="Identifier">quit</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># bad in almost all cases</span>
<span class="Identifier">doAssert</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># preferred</span></pre>
<h2><a class="toc-backref" id="best-practices-use-doassert-in-tests" href="#best-practices-use-doassert-in-tests">Use <tt class="docutils literal"><span class="pre">doAssert</span></tt> in tests</a></h2><p>Use <tt class="docutils literal"><span class="pre"><span class="Identifier">doAssert</span></span></tt> (or <tt class="docutils literal"><span class="pre"><span class="Identifier">unittest</span><span class="Operator">.</span><span class="Identifier">check</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">unittest</span><span class="Operator">.</span><span class="Identifier">require</span></span></tt>), not <tt class="docutils literal"><span class="pre"><span class="Identifier">assert</span></span></tt> in all tests so they'll be enabled even with <tt class="docutils literal"><span class="pre option">--assertions:off</span></tt>.</p>
<pre class="listing"><span class="Keyword">block</span><span class="Punctuation">:</span> <span class="Comment"># foo</span>
  <span class="Identifier">assert</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># bad</span>
  <span class="Identifier">doAssert</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># preferred</span></pre>
<h2><a class="toc-backref" id="best-practices-use-assert-in-runnable-examples" href="#best-practices-use-assert-in-runnable-examples">Use assert in runnable examples</a></h2><p>An exception to the above rule is <tt class="docutils literal"><span class="pre"><span class="Identifier">runnableExamples</span></span></tt> and <tt class="docutils literal"><span class="pre">code-block</span></tt> rst blocks intended to be used as <tt class="docutils literal"><span class="pre"><span class="Identifier">runnableExamples</span></span></tt>, which for brevity use <tt class="docutils literal"><span class="pre"><span class="Identifier">assert</span></span></tt> instead of <tt class="docutils literal"><span class="pre"><span class="Identifier">doAssert</span></span></tt>. Note that <tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">doc</span> <span class="option">-d:danger</span> <span class="option">main</span></span></tt> won't pass <tt class="docutils literal"><span class="pre option">-d:danger</span></tt> to the <tt class="docutils literal"><span class="pre"><span class="Identifier">runnableExamples</span></span></tt>, but <tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">doc</span> <span class="option">--doccmd:-d:danger</span> <span class="option">main</span></span></tt> would, and so would the second example below:</p>
<pre class="listing"><span class="Identifier">runnableExamples</span><span class="Punctuation">:</span>
  <span class="Identifier">doAssert</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># bad</span>
  <span class="Identifier">assert</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># preferred</span>

<span class="Identifier">runnableExamples</span><span class="Punctuation">(</span><span class="StringLit">&quot;-d:danger&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">doAssert</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Comment"># `assert` would be disabled here, so `doAssert` makes more sense</span></pre>
<h2><a class="toc-backref" id="best-practices-delegate-printing" href="#best-practices-delegate-printing">Delegate printing</a></h2><p>Delegate printing to caller: return <tt class="docutils literal"><span class="pre"><span class="Identifier">string</span></span></tt> instead of calling <tt class="docutils literal"><span class="pre"><span class="Identifier">echo</span></span></tt> rationale: it's more flexible (e.g. allows the caller to call custom printing, including prepending location info, writing to log files, etc).</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span> <span class="Identifier">echo</span> <span class="StringLit">&quot;bar&quot;</span> <span class="Comment"># bad</span>
<span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Operator">=</span> <span class="StringLit">&quot;bar&quot;</span> <span class="Comment"># preferred (usually)</span></pre>
<h2><a class="toc-backref" id="best-practices-use-option" href="#best-practices-use-option">Use <tt class="docutils literal"><span class="pre">Option</span></tt></a></h2><p>Consider using Option instead of return bool + var argument, unless stack allocation is needed (e.g. for efficiency).</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Identifier">a</span><span class="Punctuation">:</span> <span class="Keyword">var</span> <span class="Identifier">Bar</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">bool</span>
<span class="Keyword">proc</span> <span class="Identifier">foo</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Option</span><span class="Punctuation">[</span><span class="Identifier">Bar</span><span class="Punctuation">]</span></pre></p>
  
  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2022-02-10 00:00:00 UTC</small>
      </div>
    </div>
  </div>
</div>
</body>
</html>
